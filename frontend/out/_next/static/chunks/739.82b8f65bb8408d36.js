(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[739],{40957:function(t,e){"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function i(t){let e=r(t);if(!e)throw Error(`${t} is not defined in Window`);return e}e.$o=e.xP=e.MX=e.VQ=e.k$=e.UO=e.jW=e.Gw=e.Me=e.uT=e.$2=e.sD=void 0,e.sD=r,e.$2=i,e.uT=function(){return i("document")},e.Me=function(){return r("document")},e.Gw=function(){return i("navigator")},e.jW=function(){return r("navigator")},e.UO=function(){return i("location")},e.k$=function(){return r("location")},e.VQ=function(){return i("crypto")},e.MX=function(){return r("crypto")},e.xP=function(){return i("localStorage")},e.$o=function(){return r("localStorage")}},40926:function(t,e,r){"use strict";function i(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function n(){let t=i();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=i,e.getSubtleCrypto=n,e.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},88618:function(t,e,r){"use strict";var i=r(34155);function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function o(){return void 0!==i&&void 0!==i.versions&&void 0!==i.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=n,e.isNode=o,e.isBrowser=function(){return!n()&&!o()}},1468:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=r(70655);i.__exportStar(r(40926),e),i.__exportStar(r(88618),e)},68007:function(t){"use strict";t.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},11460:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{h=r(36563).Buffer}catch(t){}function s(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,s>=49&&s<=54?i|=s-49+10:s>=17&&s<=22?i|=s-17+10:i|=15&s}return i}function a(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,a>=49?n+=a-49+10:a>=17?n+=a-17+10:n+=a}return n}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return 0>t.cmp(e)?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var n,o,s=0;s<this.length;s++)this.words[s]=0;var a=0;if("be"===r)for(s=t.length-1,n=0;s>=0;s-=3)o=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[n]|=o<<a&67108863,this.words[n+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(s=0,n=0;s<t.length;s+=3)o=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[n]|=o<<a&67108863,this.words[n+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var r,i,n=0;n<this.length;n++)this.words[n]=0;var o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=s(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=s(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,h=Math.min(o,o-s)+r,u=0,l=r;l<h;l+=i)u=a(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=a(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h,u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),p=Math.max(0,u-t.length+1);p<=d;p++){var f=u-p|0;l+=(s=(n=0|t.words[f])*(o=0|e.words[p])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}o.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var r,n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=((a<<n|o)&16777215).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+r:h+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var d=l[t],p=c[t];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modn(p).toString(t);r=(f=f.idivn(p)).isZero()?m+r:u[d-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return i(void 0!==h),this.toArrayLike(h,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var n,o,s=this.byteLength(),a=r||Math.max(1,s);i(s<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0"),this.strip();var h=new t(a),u=this.clone();if("le"===e){for(o=0;!u.isZero();o++)n=u.andln(255),u.iushrn(8),h[o]=n;for(;o<a;o++)h[o]=0}else{for(o=0;o<a-s;o++)h[o]=0;for(o=0;!u.isZero();o++)n=u.andln(255),u.iushrn(8),h[a-o-1]=n}return h},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return(8191&e)==0&&(r+=13,e>>>=13),(127&e)==0&&(r+=7,e>>>=7),(15&e)==0&&(r+=4,e>>>=4),(3&e)==0&&(r+=2,e>>>=2),(1&e)==0&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return i((this.negative|t.negative)==0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return i((this.negative|t.negative)==0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){this.length>t.length?(e=this,r=t):(e=t,r=this);for(var e,r,i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return i((this.negative|t.negative)==0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var e,r,i,n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,r,i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(e=this,r=t):(e=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(i=(0|e.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&i;for(;0!==o&&s<e.length;s++)o=(i=(0|e.words[s])+o)>>26,this.words[s]=67108863&i;if(0===o&&s<e.length&&e!==this)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=Math.max(this.length,s),e!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,d=l>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],M=8191&w,_=w>>>13,b=0|s[4],k=8191&b,S=b>>>13,O=0|s[5],E=8191&O,I=O>>>13,C=0|s[6],N=8191&C,R=C>>>13,T=0|s[7],x=8191&T,A=T>>>13,j=0|s[8],P=8191&j,q=j>>>13,L=0|s[9],W=8191&L,D=L>>>13,B=0|a[0],U=8191&B,$=B>>>13,F=0|a[1],Z=8191&F,V=F>>>13,J=0|a[2],K=8191&J,H=J>>>13,G=0|a[3],z=8191&G,Y=G>>>13,Q=0|a[4],X=8191&Q,tt=Q>>>13,te=0|a[5],tr=8191&te,ti=te>>>13,tn=0|a[6],to=8191&tn,ts=tn>>>13,ta=0|a[7],th=8191&ta,tu=ta>>>13,tl=0|a[8],tc=8191&tl,td=tl>>>13,tp=0|a[9],tf=8191&tp,tm=tp>>>13;r.negative=t.negative^e.negative,r.length=19;var tg=(u+(i=Math.imul(c,U))|0)+((8191&(n=(n=Math.imul(c,$))+Math.imul(d,U)|0))<<13)|0;u=((o=Math.imul(d,$))+(n>>>13)|0)+(tg>>>26)|0,tg&=67108863,i=Math.imul(f,U),n=(n=Math.imul(f,$))+Math.imul(m,U)|0,o=Math.imul(m,$);var tv=(u+(i=i+Math.imul(c,Z)|0)|0)+((8191&(n=(n=n+Math.imul(c,V)|0)+Math.imul(d,Z)|0))<<13)|0;u=((o=o+Math.imul(d,V)|0)+(n>>>13)|0)+(tv>>>26)|0,tv&=67108863,i=Math.imul(v,U),n=(n=Math.imul(v,$))+Math.imul(y,U)|0,o=Math.imul(y,$),i=i+Math.imul(f,Z)|0,n=(n=n+Math.imul(f,V)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,V)|0;var ty=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(n=(n=n+Math.imul(c,H)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,H)|0)+(n>>>13)|0)+(ty>>>26)|0,ty&=67108863,i=Math.imul(M,U),n=(n=Math.imul(M,$))+Math.imul(_,U)|0,o=Math.imul(_,$),i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(f,K)|0,n=(n=n+Math.imul(f,H)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,H)|0;var tw=(u+(i=i+Math.imul(c,z)|0)|0)+((8191&(n=(n=n+Math.imul(c,Y)|0)+Math.imul(d,z)|0))<<13)|0;u=((o=o+Math.imul(d,Y)|0)+(n>>>13)|0)+(tw>>>26)|0,tw&=67108863,i=Math.imul(k,U),n=(n=Math.imul(k,$))+Math.imul(S,U)|0,o=Math.imul(S,$),i=i+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,V)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(f,z)|0,n=(n=n+Math.imul(f,Y)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,Y)|0;var tM=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(d,X)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(n>>>13)|0)+(tM>>>26)|0,tM&=67108863,i=Math.imul(E,U),n=(n=Math.imul(E,$))+Math.imul(I,U)|0,o=Math.imul(I,$),i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,V)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,V)|0,i=i+Math.imul(M,K)|0,n=(n=n+Math.imul(M,H)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,H)|0,i=i+Math.imul(v,z)|0,n=(n=n+Math.imul(v,Y)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(f,X)|0,n=(n=n+Math.imul(f,tt)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,tt)|0;var t_=(u+(i=i+Math.imul(c,tr)|0)|0)+((8191&(n=(n=n+Math.imul(c,ti)|0)+Math.imul(d,tr)|0))<<13)|0;u=((o=o+Math.imul(d,ti)|0)+(n>>>13)|0)+(t_>>>26)|0,t_&=67108863,i=Math.imul(N,U),n=(n=Math.imul(N,$))+Math.imul(R,U)|0,o=Math.imul(R,$),i=i+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,H)|0,i=i+Math.imul(M,z)|0,n=(n=n+Math.imul(M,Y)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(v,X)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(f,tr)|0,n=(n=n+Math.imul(f,ti)|0)+Math.imul(m,tr)|0,o=o+Math.imul(m,ti)|0;var tb=(u+(i=i+Math.imul(c,to)|0)|0)+((8191&(n=(n=n+Math.imul(c,ts)|0)+Math.imul(d,to)|0))<<13)|0;u=((o=o+Math.imul(d,ts)|0)+(n>>>13)|0)+(tb>>>26)|0,tb&=67108863,i=Math.imul(x,U),n=(n=Math.imul(x,$))+Math.imul(A,U)|0,o=Math.imul(A,$),i=i+Math.imul(N,Z)|0,n=(n=n+Math.imul(N,V)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(E,K)|0,n=(n=n+Math.imul(E,H)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,H)|0,i=i+Math.imul(k,z)|0,n=(n=n+Math.imul(k,Y)|0)+Math.imul(S,z)|0,o=o+Math.imul(S,Y)|0,i=i+Math.imul(M,X)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,i=i+Math.imul(v,tr)|0,n=(n=n+Math.imul(v,ti)|0)+Math.imul(y,tr)|0,o=o+Math.imul(y,ti)|0,i=i+Math.imul(f,to)|0,n=(n=n+Math.imul(f,ts)|0)+Math.imul(m,to)|0,o=o+Math.imul(m,ts)|0;var tk=(u+(i=i+Math.imul(c,th)|0)|0)+((8191&(n=(n=n+Math.imul(c,tu)|0)+Math.imul(d,th)|0))<<13)|0;u=((o=o+Math.imul(d,tu)|0)+(n>>>13)|0)+(tk>>>26)|0,tk&=67108863,i=Math.imul(P,U),n=(n=Math.imul(P,$))+Math.imul(q,U)|0,o=Math.imul(q,$),i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,V)|0,i=i+Math.imul(N,K)|0,n=(n=n+Math.imul(N,H)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(E,z)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,Y)|0,i=i+Math.imul(k,X)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,tt)|0,i=i+Math.imul(M,tr)|0,n=(n=n+Math.imul(M,ti)|0)+Math.imul(_,tr)|0,o=o+Math.imul(_,ti)|0,i=i+Math.imul(v,to)|0,n=(n=n+Math.imul(v,ts)|0)+Math.imul(y,to)|0,o=o+Math.imul(y,ts)|0,i=i+Math.imul(f,th)|0,n=(n=n+Math.imul(f,tu)|0)+Math.imul(m,th)|0,o=o+Math.imul(m,tu)|0;var tS=(u+(i=i+Math.imul(c,tc)|0)|0)+((8191&(n=(n=n+Math.imul(c,td)|0)+Math.imul(d,tc)|0))<<13)|0;u=((o=o+Math.imul(d,td)|0)+(n>>>13)|0)+(tS>>>26)|0,tS&=67108863,i=Math.imul(W,U),n=(n=Math.imul(W,$))+Math.imul(D,U)|0,o=Math.imul(D,$),i=i+Math.imul(P,Z)|0,n=(n=n+Math.imul(P,V)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,V)|0,i=i+Math.imul(x,K)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,H)|0,i=i+Math.imul(N,z)|0,n=(n=n+Math.imul(N,Y)|0)+Math.imul(R,z)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,tt)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(k,tr)|0,n=(n=n+Math.imul(k,ti)|0)+Math.imul(S,tr)|0,o=o+Math.imul(S,ti)|0,i=i+Math.imul(M,to)|0,n=(n=n+Math.imul(M,ts)|0)+Math.imul(_,to)|0,o=o+Math.imul(_,ts)|0,i=i+Math.imul(v,th)|0,n=(n=n+Math.imul(v,tu)|0)+Math.imul(y,th)|0,o=o+Math.imul(y,tu)|0,i=i+Math.imul(f,tc)|0,n=(n=n+Math.imul(f,td)|0)+Math.imul(m,tc)|0,o=o+Math.imul(m,td)|0;var tO=(u+(i=i+Math.imul(c,tf)|0)|0)+((8191&(n=(n=n+Math.imul(c,tm)|0)+Math.imul(d,tf)|0))<<13)|0;u=((o=o+Math.imul(d,tm)|0)+(n>>>13)|0)+(tO>>>26)|0,tO&=67108863,i=Math.imul(W,Z),n=(n=Math.imul(W,V))+Math.imul(D,Z)|0,o=Math.imul(D,V),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,H)|0)+Math.imul(q,K)|0,o=o+Math.imul(q,H)|0,i=i+Math.imul(x,z)|0,n=(n=n+Math.imul(x,Y)|0)+Math.imul(A,z)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(N,X)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(E,tr)|0,n=(n=n+Math.imul(E,ti)|0)+Math.imul(I,tr)|0,o=o+Math.imul(I,ti)|0,i=i+Math.imul(k,to)|0,n=(n=n+Math.imul(k,ts)|0)+Math.imul(S,to)|0,o=o+Math.imul(S,ts)|0,i=i+Math.imul(M,th)|0,n=(n=n+Math.imul(M,tu)|0)+Math.imul(_,th)|0,o=o+Math.imul(_,tu)|0,i=i+Math.imul(v,tc)|0,n=(n=n+Math.imul(v,td)|0)+Math.imul(y,tc)|0,o=o+Math.imul(y,td)|0;var tE=(u+(i=i+Math.imul(f,tf)|0)|0)+((8191&(n=(n=n+Math.imul(f,tm)|0)+Math.imul(m,tf)|0))<<13)|0;u=((o=o+Math.imul(m,tm)|0)+(n>>>13)|0)+(tE>>>26)|0,tE&=67108863,i=Math.imul(W,K),n=(n=Math.imul(W,H))+Math.imul(D,K)|0,o=Math.imul(D,H),i=i+Math.imul(P,z)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(q,z)|0,o=o+Math.imul(q,Y)|0,i=i+Math.imul(x,X)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,i=i+Math.imul(N,tr)|0,n=(n=n+Math.imul(N,ti)|0)+Math.imul(R,tr)|0,o=o+Math.imul(R,ti)|0,i=i+Math.imul(E,to)|0,n=(n=n+Math.imul(E,ts)|0)+Math.imul(I,to)|0,o=o+Math.imul(I,ts)|0,i=i+Math.imul(k,th)|0,n=(n=n+Math.imul(k,tu)|0)+Math.imul(S,th)|0,o=o+Math.imul(S,tu)|0,i=i+Math.imul(M,tc)|0,n=(n=n+Math.imul(M,td)|0)+Math.imul(_,tc)|0,o=o+Math.imul(_,td)|0;var tI=(u+(i=i+Math.imul(v,tf)|0)|0)+((8191&(n=(n=n+Math.imul(v,tm)|0)+Math.imul(y,tf)|0))<<13)|0;u=((o=o+Math.imul(y,tm)|0)+(n>>>13)|0)+(tI>>>26)|0,tI&=67108863,i=Math.imul(W,z),n=(n=Math.imul(W,Y))+Math.imul(D,z)|0,o=Math.imul(D,Y),i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(q,X)|0,o=o+Math.imul(q,tt)|0,i=i+Math.imul(x,tr)|0,n=(n=n+Math.imul(x,ti)|0)+Math.imul(A,tr)|0,o=o+Math.imul(A,ti)|0,i=i+Math.imul(N,to)|0,n=(n=n+Math.imul(N,ts)|0)+Math.imul(R,to)|0,o=o+Math.imul(R,ts)|0,i=i+Math.imul(E,th)|0,n=(n=n+Math.imul(E,tu)|0)+Math.imul(I,th)|0,o=o+Math.imul(I,tu)|0,i=i+Math.imul(k,tc)|0,n=(n=n+Math.imul(k,td)|0)+Math.imul(S,tc)|0,o=o+Math.imul(S,td)|0;var tC=(u+(i=i+Math.imul(M,tf)|0)|0)+((8191&(n=(n=n+Math.imul(M,tm)|0)+Math.imul(_,tf)|0))<<13)|0;u=((o=o+Math.imul(_,tm)|0)+(n>>>13)|0)+(tC>>>26)|0,tC&=67108863,i=Math.imul(W,X),n=(n=Math.imul(W,tt))+Math.imul(D,X)|0,o=Math.imul(D,tt),i=i+Math.imul(P,tr)|0,n=(n=n+Math.imul(P,ti)|0)+Math.imul(q,tr)|0,o=o+Math.imul(q,ti)|0,i=i+Math.imul(x,to)|0,n=(n=n+Math.imul(x,ts)|0)+Math.imul(A,to)|0,o=o+Math.imul(A,ts)|0,i=i+Math.imul(N,th)|0,n=(n=n+Math.imul(N,tu)|0)+Math.imul(R,th)|0,o=o+Math.imul(R,tu)|0,i=i+Math.imul(E,tc)|0,n=(n=n+Math.imul(E,td)|0)+Math.imul(I,tc)|0,o=o+Math.imul(I,td)|0;var tN=(u+(i=i+Math.imul(k,tf)|0)|0)+((8191&(n=(n=n+Math.imul(k,tm)|0)+Math.imul(S,tf)|0))<<13)|0;u=((o=o+Math.imul(S,tm)|0)+(n>>>13)|0)+(tN>>>26)|0,tN&=67108863,i=Math.imul(W,tr),n=(n=Math.imul(W,ti))+Math.imul(D,tr)|0,o=Math.imul(D,ti),i=i+Math.imul(P,to)|0,n=(n=n+Math.imul(P,ts)|0)+Math.imul(q,to)|0,o=o+Math.imul(q,ts)|0,i=i+Math.imul(x,th)|0,n=(n=n+Math.imul(x,tu)|0)+Math.imul(A,th)|0,o=o+Math.imul(A,tu)|0,i=i+Math.imul(N,tc)|0,n=(n=n+Math.imul(N,td)|0)+Math.imul(R,tc)|0,o=o+Math.imul(R,td)|0;var tR=(u+(i=i+Math.imul(E,tf)|0)|0)+((8191&(n=(n=n+Math.imul(E,tm)|0)+Math.imul(I,tf)|0))<<13)|0;u=((o=o+Math.imul(I,tm)|0)+(n>>>13)|0)+(tR>>>26)|0,tR&=67108863,i=Math.imul(W,to),n=(n=Math.imul(W,ts))+Math.imul(D,to)|0,o=Math.imul(D,ts),i=i+Math.imul(P,th)|0,n=(n=n+Math.imul(P,tu)|0)+Math.imul(q,th)|0,o=o+Math.imul(q,tu)|0,i=i+Math.imul(x,tc)|0,n=(n=n+Math.imul(x,td)|0)+Math.imul(A,tc)|0,o=o+Math.imul(A,td)|0;var tT=(u+(i=i+Math.imul(N,tf)|0)|0)+((8191&(n=(n=n+Math.imul(N,tm)|0)+Math.imul(R,tf)|0))<<13)|0;u=((o=o+Math.imul(R,tm)|0)+(n>>>13)|0)+(tT>>>26)|0,tT&=67108863,i=Math.imul(W,th),n=(n=Math.imul(W,tu))+Math.imul(D,th)|0,o=Math.imul(D,tu),i=i+Math.imul(P,tc)|0,n=(n=n+Math.imul(P,td)|0)+Math.imul(q,tc)|0,o=o+Math.imul(q,td)|0;var tx=(u+(i=i+Math.imul(x,tf)|0)|0)+((8191&(n=(n=n+Math.imul(x,tm)|0)+Math.imul(A,tf)|0))<<13)|0;u=((o=o+Math.imul(A,tm)|0)+(n>>>13)|0)+(tx>>>26)|0,tx&=67108863,i=Math.imul(W,tc),n=(n=Math.imul(W,td))+Math.imul(D,tc)|0,o=Math.imul(D,td);var tA=(u+(i=i+Math.imul(P,tf)|0)|0)+((8191&(n=(n=n+Math.imul(P,tm)|0)+Math.imul(q,tf)|0))<<13)|0;u=((o=o+Math.imul(q,tm)|0)+(n>>>13)|0)+(tA>>>26)|0,tA&=67108863;var tj=(u+(i=Math.imul(W,tf))|0)+((8191&(n=(n=Math.imul(W,tm))+Math.imul(D,tf)|0))<<13)|0;return u=((o=Math.imul(D,tm))+(n>>>13)|0)+(tj>>>26)|0,tj&=67108863,h[0]=tg,h[1]=tv,h[2]=ty,h[3]=tw,h[4]=tM,h[5]=t_,h[6]=tb,h[7]=tk,h[8]=tS,h[9]=tO,h[10]=tE,h[11]=tI,h[12]=tC,h[13]=tN,h[14]=tR,h[15]=tT,h[16]=tx,h[17]=tA,h[18]=tj,0!==u&&(h[19]=u,r.length++),r};function f(t,e,r){return new m().mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;s=s+(c/67108864|0)|0,a=67108863&(d=d+a|0),n+=(s=s+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):f(this,t,e)},m.prototype.makeRBT=function(t){for(var e=Array(t),r=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},m.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var c=h,d=u,p=0;p<s;p++){var f=r[l+p],m=i[l+p],g=r[l+p+s],v=i[l+p+s],y=c*g-d*v;v=c*v+d*g,g=y,r[l+p]=f+g,i[l+p]=m+v,r[l+p+s]=f-g,i[l+p+s]=m-v,p!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},m.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,e,r,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)r[s]=0;i(0===o),i((-8192&o)==0)},m.prototype.stub=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=Array(i),a=Array(i),h=Array(i),u=Array(i),l=Array(i),c=Array(i),d=r.words;d.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,c,i,n);for(var p=0;p<i;p++){var f=a[p]*l[p]-h[p]*c[p];h[p]=a[p]*c[p]+h[p]*l[p],a[p]=f}return this.conjugate(a,h,i),this.transform(a,h,d,o,i,n),this.conjugate(d,o,i),this.normalize13b(d,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=Array(this.length+t.length),f(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=(n/67108864|0)+(o>>>26),this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new o(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<r;this.words[e]=h|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var n,o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o;if(n-=s,n=Math.max(0,n),r){for(var h=0;h<s;h++)r.words[h]=this.words[h];r.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var u=0;for(h=this.length-1;h>=0&&(0!==u||h>=n);h--){var l=0|this.words[h];this.words[h]=u<<26-o|l>>>o,u=l&a}return r&&0!==u&&(r.words[r.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r)&&!!(this.words[r]&1<<e)},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return(i("number"==typeof t),i(t<67108864),t<0)?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var n,o,s=t.length+r;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+r])+a;var h=(0|t.words[n])*e;o-=67108863&h,a=(o>>26)-(h/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r,i=this.length-t.length,n=this.clone(),s=t,a=0|s.words[s.length-1];0!=(i=26-this._countBits(a))&&(s=s.ushln(i),n.iushln(i),a=0|s.words[s.length-1]);var h=n.length-s.length;if("mod"!==e){(r=new o(null)).length=h+1,r.words=Array(r.length);for(var u=0;u<r.length;u++)r.words[u]=0}var l=n.clone()._ishlnsubmul(s,1,h);0===l.negative&&(n=l,r&&(r.words[h]=1));for(var c=h-1;c>=0;c--){var d=(0|n.words[s.length+c])*67108864+(0|n.words[s.length+c-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(s,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(s,1,c),n.isZero()||(n.negative^=1);r&&(r.words[c]=d)}return r&&r.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},o.prototype.divmod=function(t,e,r){var n,s,a;return(i(!t.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):(this.negative&t.negative)!=0?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||0>this.cmp(t)?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},o.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),c=e.clone();!e.isZero();){for(var d=0,p=1;(e.words[0]&p)==0&&d<26;++d,p<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(l),s.isub(c)),n.iushrn(1),s.iushrn(1);for(var f=0,m=1;(r.words[0]&m)==0&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),s.isub(h)):(r.isub(e),a.isub(n),h.isub(s))}return{a:a,b:h,gcd:r.iushln(u)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e,r=this,n=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var s=new o(1),a=new o(0),h=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;(r.words[0]&l)==0&&u<26;++u,l<<=1);if(u>0)for(r.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,d=1;(n.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);r.cmp(n)>=0?(r.isub(n),s.isub(a)):(n.isub(r),a.isub(s))}return 0>(e=0===r.cmpn(1)?s:a).cmpn(0)&&e.iadd(t),e},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return -1===this.cmpn(t)},o.prototype.lt=function(t){return -1===this.cmp(t)},o.prototype.lten=function(t){return 0>=this.cmpn(t)},o.prototype.lte=function(t){return 0>=this.cmp(t)},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new b(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){b.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9){t.words[0]=0,t.length=1;return}var n=t.words[9];for(i=10,e.words[e.length++]=4194303&n;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,v),n(M,v),n(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=(0|t.words[r])*19+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){var e;if(g[t])return g[t];if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new M;else if("p25519"===t)e=new _;else throw Error("Unknown prime "+t);return g[t]=e,e},b.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},b.prototype._verify2=function(t,e){i((t.negative|e.negative)==0,"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},b.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},b.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},b.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},b.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},b.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},b.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},b.prototype.isqr=function(t){return this.imul(t,t.clone())},b.prototype.sqr=function(t){return this.mul(t,t)},b.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,n),d=this.pow(t,n.addn(1).iushrn(1)),p=this.pow(t,n),f=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<f);var v=this.pow(c,new o(1).iushln(f-g-1));d=d.redMul(v),c=v.redSqr(),p=p.redMul(c),f=g}return d},b.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},b.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;if(n!==r[0]&&(n=this.sqr(n)),0===c&&0===s){a=0;continue}s<<=1,s|=c,(4==++a||0===i&&0===l)&&(n=this.mul(n,r[s]),a=0,s=0)}h=26}return n},b.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},b.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},n(k,b),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):0>n.cmpn(0)&&(s=n.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},62873:function(t,e){"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function i(t){let e=r(t);if(!e)throw Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=i,e.getDocumentOrThrow=function(){return i("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return i("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return i("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return i("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return i("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},65755:function(t,e,r){"use strict";e.D=void 0;let i=r(62873);e.D=function(){let t,e,r;try{t=i.getDocumentOrThrow(),e=i.getLocationOrThrow()}catch(t){return null}function n(...e){let r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){let i=r[t],n=["itemprop","property","name"].map(t=>i.getAttribute(t)).filter(t=>!!t&&e.includes(t));if(n.length&&n){let t=i.getAttribute("content");if(t)return t}}return""}let o=((r=n("name","og:site_name","og:title","twitter:title"))||(r=t.title),r),s=function(){let t=n("description","og:description","twitter:description","keywords");return t}(),a=e.origin,h=function(){let r=t.getElementsByTagName("link"),i=[];for(let t=0;t<r.length;t++){let n=r[t],o=n.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let t=n.getAttribute("href");if(t){if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{let i=e.pathname.split("/");i.pop();let n=i.join("/");r+=n+"/"+t}i.push(r)}else if(0===t.indexOf("//")){let r=e.protocol+t;i.push(r)}else i.push(t)}}}return i}();return{description:s,url:a,icons:h,name:o}}},96739:function(t,e,r){"use strict";r.d(e,{WalletConnectV1Adapter:function(){return t0}});var i={};r.r(i),r.d(i,{decrypt:function(){return tO},encrypt:function(){return tS},generateKey:function(){return tb},verifyHmac:function(){return tk}});var n=r(4942),o=r(65755),s=r(40957),a=r(34155),h=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i},u=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},l=function(t){this.version=t,this.type="node",this.name="node",this.os=a.platform},c=function(t,e,r,i){this.name=t,this.version=e,this.os=r,this.bot=i,this.type="bot-device"},d=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},p=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},f=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],g=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function v(t){var e=""!==t&&m.reduce(function(e,r){var i=r[0],n=r[1];if(e)return e;var o=n.exec(t);return!!o&&[i,o]},!1);if(!e)return null;var r=e[0],i=e[1];if("searchbot"===r)return new d;var n=i[1]&&i[1].split(/[._]/).slice(0,3);n?n.length<3&&(n=h(n,function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(3-n.length))):n=[];var o=n.join("."),s=function(t){for(var e=0,r=g.length;e<r;e++){var i=g[e],n=i[0];if(i[1].exec(t))return n}return null}(t),a=f.exec(t);return a&&a[1]?new c(r,o,s,a[1]):new u(r,o,s)}function y(t){return t?v(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new p:"undefined"!=typeof navigator?v(navigator.userAgent):void 0!==a&&a.version?new l(a.version.slice(1)):null}function w(){let t=y();return t&&t.os?t.os:void 0}s.sD,s.$2,s.uT,s.Me,s.Gw;let M=s.jW;s.UO;let _=s.k$;s.VQ,s.MX,s.xP;let b=s.$o,k=function(t){if("string"!=typeof t)throw Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch(e){return t}};function S(t){let e=null,r=b();return r&&(e=r.getItem(t)),e?k(e):e}function O(t){let e=b();e&&e.removeItem(t)}let E="WALLETCONNECT_DEEPLINK_CHOICE",I=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],C=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var N=r(11460),R=r.n(N);r(4501);var T=r(65054),x=r.n(T),A=r(48764).Buffer;let j="utf8";function P(t){return new Uint8Array(t)}function q(t,e=!1){let r=t.toString("hex");return e?$(r):r}function L(t,e=!1){return q(x()(t),e)}function W(t){return P(A.from(U(t),"hex"))}function D(t){return A.from(t,j)}function B(...t){let e=[];return t.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])}function U(t){return t.replace(/^0x/,"")}function $(t){return t.startsWith("0x")?t:`0x${t}`}function F(t){return(t=function(t,e=8,r="0"){return function(t,e,r="0"){return function(t,e,r,i="0"){let n=e-t.length,o=t;if(n>0){let e=i.repeat(n);o=r?e+t:t+e}return o}(t,e,!0,r)}(t,function(t,e=8){let r=t%e;return r?(t-r)/e*e+e:t}(t.length,e),r)}(t=U(t),2))&&(t=$(t)),t}function Z(t){var e;return e=new Uint8Array(t),x()(e)}function V(t,e){let r=U(F(new(R())(t).toString(16)));return e?r:$(r)}var J=r(91094),K=r(1468);let H=function(t=3){let e=Date.now()*Math.pow(10,t);return e+Math.floor(Math.random()*Math.pow(10,t))};function G(){let t=((t,e)=>{for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e})();return t}function z(t,e){return"string"==typeof t&&!!t.match(/^0x[0-9A-Fa-f]*$/)&&(!e||t.length===2+2*e)}function Y(t){return void 0!==t.result}function Q(t){return void 0!==t.error}function X(t){return void 0!==t.event}let tt=t=>!!t&&"0x"===t.toLowerCase().substring(0,2)&&!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!!(/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t))||t===function(t){t=U(t.toLowerCase());let e=U((0,J.keccak_256)(D(t))),r="";for(let i=0;i<t.length;i++)parseInt(e[i],16)>7?r+=t[i].toUpperCase():r+=t[i];return $(r)}(t));function te(t){return t&&t.length&&!z(t[0])&&(t[0]=function(t,e=!1){return q(D(t),e)}(t[0],!0)),t}function tr(t){if(void 0!==t.type&&"0"!==t.type)return t;if(void 0===t.from||!tt(t.from))throw Error("Transaction object must include a valid 'from' value.");function e(t){let e=t;return"number"!=typeof t&&("string"!=typeof t||""===t||"string"==typeof t&&""===t.trim())||(z(t)?"string"==typeof t&&(e=F(t)):e=V(t)),"string"==typeof e&&(e=function(t){let e=t.startsWith("0x");return t=(t=U(t)).startsWith("0")?t.substring(1):t,e?$(t):t}($(e))),e}let r={from:F(t.from),to:void 0===t.to?void 0:F(t.to),gasPrice:void 0===t.gasPrice?"":e(t.gasPrice),gas:void 0===t.gas?void 0===t.gasLimit?"":e(t.gasLimit):e(t.gas),value:void 0===t.value?"":e(t.value),nonce:void 0===t.nonce?"":e(t.nonce),data:void 0===t.data?"":F(t.data)||"0x"},i=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(t=>{(void 0===r[t]||"string"==typeof r[t]&&!r[t].trim().length)&&i.includes(t)&&delete r[t]}),r}var ti=r(17563),tn=class{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,e){this._eventEmitters.push({event:t,callback:e})}trigger(t){let e=[];t&&(e=this._eventEmitters.filter(e=>e.event===t)),e.forEach(t=>{t.callback()})}};let to=void 0!==r.g.WebSocket?r.g.WebSocket:r(68007);var ts=class{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new tn,!t.url||"string"!=typeof t.url)throw Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return 0===this.readyState}set connected(t){}get connected(){return 1===this.readyState}set closing(t){}get closing(){return 2===this.readyState}set closed(t){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(t,e,r){if(!e||"string"!=typeof e)throw Error("Missing or invalid topic field");this._socketSend({topic:e,type:"pub",payload:t,silent:!!r})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,e){this._events.push({event:t,callback:e})}_socketCreate(){if(this._nextSocket)return;let t=function(t,e,r){var i,n,o,s,a;let h;let u=t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t,l=u.split("?"),c=!function(){let t=!function(){let t=y(),e=!!t&&!!t.name&&"node"===t.name.toLowerCase();return e}()&&!!M();return t}()?{protocol:e,version:r,env:(null===(n=y())||void 0===n?void 0:n.name)||""}:{protocol:e,version:r,env:"browser",host:(null===(i=_())||void 0===i?void 0:i.host)||""},d=(s=function(t){let e=-1!==t.indexOf("?")?t.indexOf("?"):void 0,r=void 0!==e?t.substr(e):"";return r}(l[1]||""),a=Object.assign(Object.assign({},ti.parse(s)),c),ti.stringify(a));return l[0]+"?"+d}(this._url,this._protocol,this._version);if(this._nextSocket=new to(t),!this._nextSocket)throw Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){let e=JSON.stringify(t);this._socket&&1===this._socket.readyState?this._socket.send(e):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let e;try{e=JSON.parse(t.data)}catch(t){return}if(this._socketSend({topic:e.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){let t=this._events.filter(t=>"message"===t.event);t&&t.length&&t.forEach(t=>t.callback(e))}}_socketError(t){let e=this._events.filter(t=>"error"===t.event);e&&e.length&&e.forEach(e=>e.callback(t))}_queueSubscriptions(){let t=this._subscriptions;t.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){let t=this._queue;t.forEach(t=>this._socketSend(t)),this._queue=[]}};let ta="Session currently connected",th="Session currently disconnected",tu="JSON RPC response format is invalid",tl="User close QRCode Modal";var tc=class{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(e=>e.event!==t)}trigger(t){let e,r=[];(e=void 0!==t.method?t.method:Y(t)||Q(t)?`response:${t.id}`:X(t)?t.event:"")&&(r=this._eventEmitters.filter(t=>t.event===e)),r&&r.length||I.includes(e)||e.startsWith("wc_")||X(e)||(r=this._eventEmitters.filter(t=>"call_request"===t.event)),r.forEach(e=>{if(Q(t)){let r=Error(t.error.message);e.callback(r,null)}else e.callback(null,t)})}},td=class{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null,e=S(this.storageId);return e&&void 0!==e.bridge&&(t=e),t}setSession(t){return!function(t,e){let r="string"==typeof e?e:JSON.stringify(e),i=b();i&&i.setItem(t,r)}(this.storageId,t),t}removeSession(){O(this.storageId)}};let tp="abcdefghijklmnopqrstuvwxyz0123456789".split("").map(t=>`https://${t}.bridge.walletconnect.org`);var tf=class{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new tc,this._clientMeta=o.D()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new td(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...C,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw Error("Missing one of the required parameters: bridge / uri / session");if(t.connectorOpts.bridge){var e,r;let i;this.bridge="walletconnect.org"!==(0,(0,((r=e=t.connectorOpts.bridge).indexOf("//")>-1?r.split("/")[2]:r.split("/")[0]).split(":")[0]).split("?")[0]).split(".").slice(-2).join(".")?e:tp[Math.floor(Math.random()*tp.length)]}t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);let i=t.connectorOpts.session||this._getStorageSession();i&&(this.session=i),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new ts({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;let e=W(t).buffer;this._key=e}get key(){if(this._key){var t;let e=(t=this._key,L(new Uint8Array(t),!1));return e}return""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=G()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=o.D()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){let t=this._peerMeta;return t}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){let t=this._formatUri();return t}set uri(t){if(!t)return;let{handshakeTopic:e,bridge:r,key:i}=this._parseUri(t);this.handshakeTopic=e,this.bridge=r,this.key=i}set chainId(t){this._chainId=t}get chainId(){let t=this._chainId;return t}set networkId(t){this._networkId=t}get networkId(){let t=this._networkId;return t}set accounts(t){this._accounts=t}get accounts(){let t=this._accounts;return t}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){let t=this._rpcUrl;return t}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,e){this._eventManager.subscribe({event:t,callback:e})}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();let e=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=e.id,this.handshakeTopic=G(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw Error(tl)});let r=()=>{this.killSession()};try{let t=await this._sendCallRequest(e);return t&&r(),t}catch(t){throw r(),t}}async connect(t){if(!this._qrcodeModal)throw Error("QRCode Modal not provided");return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(t,e)=>{this.on("modal_closed",()=>e(Error(tl))),this.on("connect",(r,i)=>{if(r)return e(r);t(i.params[0])})}))}async createSession(t){if(this._connected)throw Error(ta);if(this.pending)return;this._key=await this._generateKey();let e=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=e.id,this.handshakeTopic=G(),this._sendSessionRequest(e,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw Error(ta);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";let e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:e};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw Error(ta);let e=t&&t.message?t.message:"Session Rejected",r=this._formatResponse({id:this.handshakeId,error:{message:e}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:e}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw Error(th);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";let e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[e]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){let e=t?t.message:"Session Disconnected",r=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});await this._sendRequest(r),this._handleSessionDisconnect(e)}async sendTransaction(t){if(!this._connected)throw Error(th);let e=tr(t),r=this._formatRequest({method:"eth_sendTransaction",params:[e]}),i=await this._sendCallRequest(r);return i}async signTransaction(t){if(!this._connected)throw Error(th);let e=tr(t),r=this._formatRequest({method:"eth_signTransaction",params:[e]}),i=await this._sendCallRequest(r);return i}async signMessage(t){if(!this._connected)throw Error(th);let e=this._formatRequest({method:"eth_sign",params:t}),r=await this._sendCallRequest(e);return r}async signPersonalMessage(t){if(!this._connected)throw Error(th);t=te(t);let e=this._formatRequest({method:"personal_sign",params:t}),r=await this._sendCallRequest(e);return r}async signTypedData(t){if(!this._connected)throw Error(th);let e=this._formatRequest({method:"eth_signTypedData",params:t}),r=await this._sendCallRequest(e);return r}async updateChain(t){if(!this._connected)throw Error("Session currently disconnected");let e=this._formatRequest({method:"wallet_updateChain",params:[t]}),r=await this._sendCallRequest(e);return r}unsafeSend(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),new Promise((e,r)=>{this._subscribeToResponse(t.id,(t,i)=>{if(t){r(t);return}if(!i)throw Error("Missing JSON RPC response");e(i)})})}async sendCustomRequest(t,e){if(!this._connected)throw Error(th);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return V(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=tr(t.params[0]));break;case"personal_sign":t.params&&(t.params=te(t.params))}let r=this._formatRequest(t),i=await this._sendCallRequest(r,e);return i}approveRequest(t){if(Y(t)){let e=this._formatResponse(t);this._sendResponse(e)}else throw Error('JSON-RPC success response must include "result" field')}rejectRequest(t){if(Q(t)){let e=this._formatResponse(t);this._sendResponse(e)}else throw Error('JSON-RPC error response must include "error" field')}transportClose(){this._transport.close()}async _sendRequest(t,e){let r=this._formatRequest(t),i=await this._encrypt(r),n=void 0!==(null==e?void 0:e.topic)?e.topic:this.peerId,o=JSON.stringify(i),s=void 0!==(null==e?void 0:e.forcePushNotification)?!e.forcePushNotification:!!r.method.startsWith("wc_")||!C.includes(r.method);this._transport.send(o,n,s)}async _sendResponse(t){let e=await this._encrypt(t),r=this.peerId,i=JSON.stringify(e);this._transport.send(i,r,!0)}async _sendSessionRequest(t,e,r){this._sendRequest(t,r),this._subscribeToSessionResponse(t.id,e)}_sendCallRequest(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(void 0===t.method)throw Error('JSON RPC request must have valid "method" value');let e={id:void 0===t.id?H():t.id,jsonrpc:"2.0",method:t.method,params:void 0===t.params?[]:t.params};return e}_formatResponse(t){if(void 0===t.id)throw Error('JSON RPC request must have valid "id" value');let e={id:t.id,jsonrpc:"2.0"};if(Q(t)){let r=function(t){let e=t.message||"Failed or Rejected Request",r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3}let i={code:r,message:e};return t.data&&(i.data=t.data),i}(t.error),i=Object.assign(Object.assign(Object.assign({},e),t),{error:r});return i}if(Y(t)){let r=Object.assign(Object.assign({},e),t);return r}throw Error(tu)}_handleSessionDisconnect(t){this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),O(E)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t||"Session Disconnected"}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,e){e&&e.approved?(this._connected?(e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),e.peerId&&!this.peerId&&(this.peerId=e.peerId),e.peerMeta&&!this.peerMeta&&(this.peerMeta=e.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){let e;let r=[this.clientId,this.handshakeTopic];if(!r.includes(t.topic))return;try{e=JSON.parse(t.payload)}catch(t){return}let i=await this._decrypt(e);i&&this._eventManager.trigger(i)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,e){this.on(`response:${t}`,e)}_subscribeToSessionResponse(t,e){this._subscribeToResponse(t,(t,r)=>{if(t){this._handleSessionResponse(t.message);return}Y(r)?this._handleSessionResponse(e,r.result):r.error&&r.error.message?this._handleSessionResponse(r.error.message):this._handleSessionResponse(e)})}_subscribeToCallResponse(t){return new Promise((e,r)=>{this._subscribeToResponse(t,(t,i)=>{if(t){r(t);return}Y(i)?e(i.result):i.error&&i.error.message?r(i.error):r(Error(tu))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,e)=>{let{request:r}=e.params[0];if(function(){let t=w();return!!t&&(function(){let t=w();return!!t&&t.toLowerCase().includes("android")}()||function(){let t=w();return!!t&&(t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}())}()&&this._signingMethods.includes(r.method)){let t=S(E);t&&(window.location.href=t.href)}}),this.on("wc_sessionRequest",(t,e)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=e.id,this.peerId=e.params[0].peerId,this.peerMeta=e.params[0].peerMeta;let r=Object.assign(Object.assign({},e),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(t,e)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",e.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){let t=this.protocol,e=this.handshakeTopic,r=this.version,i=encodeURIComponent(this.bridge),n=this.key,o=`${t}:${e}@${r}?bridge=${i}&key=${n}`;return o}_parseUri(t){let e=function(t){let e=t.indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,i=t.substring(0,e),n=t.substring(e+1,r),o=function(t){let e=t.split("@"),r={handshakeTopic:e[0],version:parseInt(e[1],10)};return r}(n),s=void 0!==r?t.substr(r):"",a=function(t){let e=ti.parse(t),r={key:e.key||"",bridge:e.bridge||""};return r}(s),h=Object.assign(Object.assign({protocol:i},o),a);return h}(t);if(e.protocol===this.protocol){if(!e.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");let t=e.handshakeTopic;if(!e.bridge)throw Error("Invalid or missing bridge url parameter value");let r=decodeURIComponent(e.bridge);if(!e.key)throw Error("Invalid or missing key parameter value");let i=e.key;return{handshakeTopic:t,bridge:r,key:i}}throw Error("URI format is invalid")}async _generateKey(){if(this._cryptoLib){let t=await this._cryptoLib.generateKey();return t}return null}async _encrypt(t){let e=this._key;if(this._cryptoLib&&e){let r=await this._cryptoLib.encrypt(t,e);return r}return null}async _decrypt(t){let e=this._key;if(this._cryptoLib&&e){let r=await this._cryptoLib.decrypt(t,e);return r}return null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||"string"!=typeof t.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||"string"!=typeof t.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||"string"!=typeof t.token)throw Error("Invalid or missing pushServerOpts.token parameter value");let e={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(r,i)=>{if(r)throw r;if(t.peerMeta){let t=i.params[0].peerMeta.name;e.peerName=t}try{let r=await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),i=await r.json();if(!i.success)throw Error("Failed to register in Push Server")}catch(t){throw Error("Failed to register in Push Server")}})}};let tm="AES-CBC",tg="HMAC";async function tv(t,e=tm){return K.getSubtleCrypto().importKey("raw",t,e===tm?{length:256,name:tm}:{hash:{name:"SHA-256"},name:tg},!0,e===tm?["encrypt","decrypt"]:["sign","verify"])}async function ty(t,e,r){let i=K.getSubtleCrypto(),n=await tv(e,tm),o=await i.encrypt({iv:t,name:tm},n,r);return new Uint8Array(o)}async function tw(t,e,r){let i=K.getSubtleCrypto(),n=await tv(e,tm),o=await i.decrypt({iv:t,name:tm},n,r);return new Uint8Array(o)}async function tM(t,e){let r=K.getSubtleCrypto(),i=await tv(t,tg),n=await r.sign({length:256,name:tg},i,e);return new Uint8Array(n)}async function t_(t,e){let r=await tM(t,e);return r}async function tb(t){let e=function(t){let e=K.getBrowerCrypto();return e.getRandomValues(new Uint8Array(t))}((t||256)/8),r=P(x()(e)).buffer;return r}async function tk(t,e){let r=W(t.data),i=W(t.iv),n=W(t.hmac),o=L(n,!1),s=B(r,i),a=await t_(e,s),h=L(a,!1);return U(o)===U(h)}async function tS(t,e,r){let i=P(Z(e)),n=r||await tb(128),o=P(Z(n)),s=L(o,!1),a=JSON.stringify(t),h=P(D(a)),u=await ty(o,i,h),l=L(u,!1),c=B(u,o),d=await t_(i,c),p=L(d,!1);return{data:l,hmac:p,iv:s}}async function tO(t,e){var r;let i;let n=P(Z(e));if(!n)throw Error("Missing key: required for decryption");let o=await tk(t,n);if(!o)return null;let s=W(t.data),a=W(t.iv),h=await tw(a,n,s),u=(r=h,x()(r).toString(j));try{i=JSON.parse(u)}catch(t){return null}return i}var tE=class extends tf{constructor(t,e){super({cryptoLib:i,connectorOpts:t,pushServerOpts:e})}};r(91341),r(88473),r(61798),r(45772),r(95811),r(48764).Buffer,r(17187),r(4445),r(79826),r(12840),r(30778),r(74286),Symbol("IGNORE_SUBSTREAM");var tI=r(13631);r(72378);var tC=r(2043),tN=r.n(tC);let tR=tN().getLogger("http-helpers");tR.setLevel(tC.levels.INFO),r(96245);let tT={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},tx=t=>{if(t===tT.EIP155||t===tT.SOLANA)return 1;throw Error(`Chain namespace ${t} is not supported`)},tA=t=>{let e=tT.EIP155;return 1===t?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:3===t?{chainNamespace:e,chainId:"0x3",rpcTarget:"https://rpc.ankr.com/eth_ropsten",displayName:"Ropsten Testnet",blockExplorer:"https://ropsten.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:4===t?{chainNamespace:e,chainId:"0x4",rpcTarget:"https://rpc.ankr.com/eth_rinkeby",displayName:"Rinkeby Testnet",blockExplorer:"https://rinkeby.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:5===t?{chainNamespace:e,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:137===t?{chainNamespace:e,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:80001===t?{chainNamespace:e,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon",decimals:18}:56===t?{chainNamespace:e,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:97===t?{chainNamespace:e,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:25===t?{chainNamespace:e,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:338===t?{chainNamespace:e,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:8217===t?{chainNamespace:e,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:null},tj=t=>{let e=tT.SOLANA;return 1===t?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:2===t?{chainNamespace:e,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:3===t?{chainNamespace:e,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},tP=(t,e)=>{if(t===tT.OTHER)return null;let r=e?"number"==typeof e?e:parseInt(e,16):tx(t);return t===tT.EIP155?tA(r):t===tT.SOLANA?tj(r):null};class tq extends tI.s{constructor(t,e){super(e),(0,n.Z)(this,"code",void 0),(0,n.Z)(this,"message",void 0),this.code=t,this.message=e||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class tL extends tq{constructor(t,e){super(t,e),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new tL(t,`${tL.messages[t]}, ${e}`)}static notFound(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5001,t)}static notInstalled(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5002,t)}static notReady(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5003,t)}static windowBlocked(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5004,t)}static windowClosed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5005,t)}static incompatibleChainNameSpace(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5006,t)}static duplicateAdapterError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5007,t)}static invalidProviderConfigError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5008,t)}static providerNotReadyError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5009,t)}static rpcConnectionError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5010,t)}static invalidParams(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5011,t)}static invalidNetwork(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tL.fromCode(5013,t)}}(0,n.Z)(tL,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class tW extends tq{constructor(t,e){super(t,e),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new tW(t,`${tW.messages[t]}. ${e}`)}static connectionError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tW.fromCode(5111,t)}static disconnectionError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tW.fromCode(5112,t)}static notConnectedError(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tW.fromCode(5113,t)}static popupClosed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tW.fromCode(5114,t)}static mfaEnabled(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return tW.fromCode(5115,t)}}function tD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function tB(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tD(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}(0,n.Z)(tW,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa"});let tU={OPENLOGIN:"openlogin",WALLET_CONNECT_V1:"wallet-connect-v1",WALLET_CONNECT_V2:"wallet-connect-v2"},t$=tB({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},tU),tF=tB({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},tU),tZ=tB(tB({},tF),t$);function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function tJ(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}tU.OPENLOGIN,tU.WALLET_CONNECT_V1,tU.WALLET_CONNECT_V2,t$.TORUS_SOLANA,t$.PHANTOM,t$.SOLFLARE,t$.SLOPE,tF.TORUS_EVM,tF.METAMASK,tF.COINBASE;let tK={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},tH=tJ(tJ({},tK),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated"});var tG=tN().getLogger("web3auth-logger"),tz=r(88907),tY=r(2954);let tQ=[{name:"Rainbow",chains:[tT.EIP155],logo:"https://images.web3auth.io/login-rainbow.svg",mobile:{native:"rainbow:",universal:"https://rnbwapp.com"},desktop:{native:"",universal:""}},{name:"MetaMask",chains:[tT.EIP155],logo:"https://images.web3auth.io/login-metamask.svg",mobile:{native:"metamask:",universal:"https://metamask.app.link"},desktop:{native:"",universal:""}}];function tX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}class t0 extends tz.d{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),(0,n.Z)(this,"name",tZ.WALLET_CONNECT_V1),(0,n.Z)(this,"adapterNamespace","eip155"),(0,n.Z)(this,"currentChainNamespace",tT.EIP155),(0,n.Z)(this,"type","external"),(0,n.Z)(this,"adapterOptions",void 0),(0,n.Z)(this,"status",tK.NOT_READY),(0,n.Z)(this,"adapterData",{uri:"",extensionAdapters:tQ}),(0,n.Z)(this,"connector",null),(0,n.Z)(this,"wcProvider",null),this.adapterOptions=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tX(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tX(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t)}get connected(){var t;return!!(null!==(t=this.connector)&&void 0!==t&&t.connected)}get provider(){var t;return(null===(t=this.wcProvider)||void 0===t?void 0:t.provider)||null}set provider(t){throw Error("Not implemented")}async init(){await super.init(),super.checkInitializationRequirements(),this.connector=this.getWalletConnectInstance(),this.wcProvider=new tY.AX({config:{chainConfig:this.chainConfig},connector:this.connector}),this.emit(tH.READY,tZ.WALLET_CONNECT_V1),this.status=tK.READY,tG.debug("initializing wallet connect v1 adapter"),this.connector.connected&&(this.rehydrated=!0,await this.onConnectHandler({accounts:this.connector.accounts,chainId:this.connector.chainId}))}async connect(){if(super.checkConnectionRequirements(),!this.connector)throw tL.notReady("Wallet adapter is not ready yet");if(this.connected)return await this.onConnectHandler({accounts:this.connector.accounts,chainId:this.connector.chainId}),this.provider;if(this.status!==tK.CONNECTING){var t,e;null!==(t=this.adapterOptions.adapterSettings)&&void 0!==t&&t.qrcodeModal&&(this.connector=this.getWalletConnectInstance(),this.wcProvider=new tY.AX({config:{chainConfig:this.chainConfig,skipLookupNetwork:null===(e=this.adapterOptions.adapterSettings)||void 0===e?void 0:e.skipNetworkSwitching},connector:this.connector})),await this.createNewSession(),this.status=tK.CONNECTING,this.emit(tH.CONNECTING,{adapter:tZ.WALLET_CONNECT_V1})}return new Promise((t,e)=>{if(!this.connector){e(tL.notReady("Wallet adapter is not ready yet"));return}this.connector.on("modal_closed",async()=>(this.status=tK.READY,this.emit(tH.READY,tZ.WALLET_CONNECT_V1),e(Error("User closed modal"))));try{this.connector.on("connect",async(e,r)=>(e&&this.emit(tH.ERRORED,e),tG.debug("connected event emitted by web3auth"),await this.onConnectHandler(r.params[0]),t(this.provider)))}catch(t){tG.error("Wallet connect v1 adapter error while connecting",t),this.status=tK.READY,this.rehydrated=!0,this.emit(tH.ERRORED,t),e(t instanceof tq?t:tW.connectionError(`Failed to login with wallet connect: ${(null==t?void 0:t.message)||""}`))}})}async getUserInfo(){if(!this.connected)throw tW.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnectSession();let{cleanup:e}=t;if(!this.connector||!this.connected)throw tW.notConnectedError("Not connected with wallet");await this.connector.killSession(),this.rehydrated=!1,e?(this.connector=null,this.status=tK.NOT_READY,this.wcProvider=null):this.status=tK.READY,await super.disconnect()}async addChain(t){try{var e;if(!this.wcProvider)throw tL.notReady("Wallet adapter is not ready yet");let r=null===(e=this.adapterOptions.adapterSettings)||void 0===e?void 0:e.networkSwitchModal;r&&await r.addNetwork({chainConfig:t,appOrigin:window.location.hostname}),await this.wcProvider.addChain(t)}catch(t){tG.error(t)}}async switchChain(t,e){var r;if(!this.wcProvider)throw tL.notReady("Wallet adapter is not ready yet");let i=null===(r=this.adapterOptions.adapterSettings)||void 0===r?void 0:r.networkSwitchModal;i&&await i.switchNetwork({currentChainConfig:e,newChainConfig:t,appOrigin:window.location.hostname}),await this.wcProvider.switchChain({chainId:e.chainId,lookup:!1,addChain:!1})}async createNewSession(){var t,e,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceNewSession:!1};if(!this.connector)throw tL.notReady("Wallet adapter is not ready yet");if(i.forceNewSession&&this.connector.pending&&await this.connector.killSession(),null!==(t=this.adapterOptions)&&void 0!==t&&null!==(e=t.adapterSettings)&&void 0!==e&&e.qrcodeModal){await this.connector.createSession({chainId:parseInt((null===(r=this.chainConfig)||void 0===r?void 0:r.chainId)||"0x1",16)});return}return new Promise((t,e)=>{var r;if(!this.connector){e(tL.notReady("Wallet adapter is not ready yet"));return}tG.debug("creating new session for web3auth wallet connect"),this.connector.on("display_uri",async(r,i)=>{var n;if(r)return this.emit(tH.ERRORED,tW.connectionError("Failed to display wallet connect qr code")),e(r);let o=i.params[0];return this.updateAdapterData({uri:o,extensionAdapters:tQ}),null===(n=this.connector)||void 0===n||n.off("display_uri"),t()}),this.connector.createSession({chainId:parseInt((null===(r=this.chainConfig)||void 0===r?void 0:r.chainId)||"0x1",16)}).catch(t=>(tG.error("error while creating new wallet connect session",t),this.emit(tH.ERRORED,t),e(t)))})}async onConnectHandler(t){if(!this.connector||!this.wcProvider)throw tL.notReady("Wallet adapter is not ready yet");if(!this.chainConfig)throw tL.invalidParams("Chain config is not set");let{chainId:e}=t;if(tG.debug("connected chainId in hex"),e!==parseInt(this.chainConfig.chainId,16)){var r,i,n;let t=tP(tT.EIP155,e)||{chainId:`0x${e.toString(16)}`,displayName:"Unknown Network"},o=null===(r=this.adapterOptions.adapterSettings)||void 0===r?void 0:r.qrcodeModal;if(!o||o&&!(null!==(i=this.adapterOptions)&&void 0!==i&&null!==(n=i.adapterSettings)&&void 0!==n&&n.skipNetworkSwitching))try{await this.addChain(this.chainConfig),await this.switchChain(t,this.chainConfig),this.connector=this.getWalletConnectInstance()}catch(r){tG.error("error while chain switching",r),await this.createNewSession({forceNewSession:!0}),this.emit(tH.ERRORED,tL.fromCode(5e3,`Not connected to correct network. Expected: ${this.chainConfig.displayName}, Current: ${(null==t?void 0:t.displayName)||e}, Please switch to correct network from wallet`)),this.status=tK.READY,this.rehydrated=!0;return}}await this.wcProvider.setupProvider(this.connector),this.subscribeEvents(this.connector),this.status=tK.CONNECTED,this.emit(tH.CONNECTED,{adapter:tZ.WALLET_CONNECT_V1,reconnected:this.rehydrated})}subscribeEvents(t){t.on("session_update",async t=>{t&&this.emit(tH.ERRORED,t)})}getWalletConnectInstance(){let t=this.adapterOptions.adapterSettings||{};return t.bridge=t.bridge||"https://bridge.walletconnect.org",new tE(t)}}},44020:function(t){"use strict";var e="%[a-f0-9]{2}",r=RegExp("("+e+")|([^%]+?)","gi"),i=RegExp("("+e+")+","gi");t.exports=function(t){if("string"!=typeof t)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var o=function(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(r)||[],i=1;i<e.length;i++)e=(t=(function t(e,r){try{return[decodeURIComponent(e.join(""))]}catch(t){}if(1===e.length)return e;r=r||1;var i=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],t(i),t(n))})(e,i).join("")).match(r)||[];return t}}(n[0]);o!==n[0]&&(e[n[0]]=o)}n=i.exec(t)}e["%C2"]="";for(var s=Object.keys(e),a=0;a<s.length;a++){var h=s[a];t=t.replace(RegExp(h,"g"),e[h])}return t}(t)}}},4501:function(t){t.exports=i,i.strict=n,i.loose=o;var e=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(t){return n(t)||o(t)}function n(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function o(t){return r[e.call(t)]}},17563:function(t,e,r){"use strict";let i=r(70610),n=r(44020),o=r(80500),s=t=>null==t;function a(t){if("string"!=typeof t||1!==t.length)throw TypeError("arrayFormatSeparator must be single character string")}function h(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function u(t,e){return e.decode?n(t):t}function l(t){let e=t.indexOf("#");return -1!==e&&(t=t.slice(0,e)),t}function c(t){t=l(t);let e=t.indexOf("?");return -1===e?"":t.slice(e+1)}function d(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):e.parseBooleans&&null!==t&&("true"===t.toLowerCase()||"false"===t.toLowerCase())&&(t="true"===t.toLowerCase()),t}function p(t,e){a((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);let r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,i)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){i[t]=r;return}void 0===i[t]&&(i[t]={}),i[t][e[1]]=r};case"bracket":return(t,r,i)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){i[t]=r;return}if(void 0===i[t]){i[t]=[r];return}i[t]=[].concat(i[t],r)};case"comma":case"separator":return(e,r,i)=>{let n="string"==typeof r&&r.split("").indexOf(t.arrayFormatSeparator)>-1,o=n?r.split(t.arrayFormatSeparator).map(e=>u(e,t)):null===r?r:u(r,t);i[e]=o};default:return(t,e,r)=>{if(void 0===r[t]){r[t]=e;return}r[t]=[].concat(r[t],e)}}}(e),i=Object.create(null);if("string"!=typeof t||!(t=t.trim().replace(/^[?#&]/,"")))return i;for(let n of t.split("&")){let[t,s]=o(e.decode?n.replace(/\+/g," "):n,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:u(s,e),r(u(t,e),s,i)}for(let t of Object.keys(i)){let r=i[t];if("object"==typeof r&&null!==r)for(let t of Object.keys(r))r[t]=d(r[t],e);else i[t]=d(r,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((t,e)=>{let r=i[e];return r&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(r):t[e]=r,t},Object.create(null))}e.extract=c,e.parse=p,e.stringify=(t,e)=>{if(!t)return"";a((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);let r=r=>e.skipNull&&s(t[r])||e.skipEmptyString&&""===t[r],i=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{let n=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[h(e,t),"[",n,"]"].join("")]:[...r,[h(e,t),"[",h(n,t),"]=",h(i,t)].join("")]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[h(e,t),"[]"].join("")]:[...r,[h(e,t),"[]=",h(i,t)].join("")];case"comma":case"separator":return e=>(r,i)=>null==i||0===i.length?r:0===r.length?[[h(e,t),"=",h(i,t)].join("")]:[[r,h(i,t)].join(t.arrayFormatSeparator)];default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,h(e,t)]:[...r,[h(e,t),"=",h(i,t)].join("")]}}(e),n={};for(let e of Object.keys(t))r(e)||(n[e]=t[e]);let o=Object.keys(n);return!1!==e.sort&&o.sort(e.sort),o.map(r=>{let n=t[r];return void 0===n?"":null===n?h(r,e):Array.isArray(n)?n.reduce(i(r),[]).join("&"):h(r,e)+"="+h(n,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,i]=o(t,"#");return Object.assign({url:r.split("?")[0]||"",query:p(c(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:u(i,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);let i=l(t.url).split("?")[0]||"",n=e.extract(t.url),o=e.parse(n,{sort:!1}),s=Object.assign(o,t.query),a=e.stringify(s,r);a&&(a=`?${a}`);let u=function(t){let e="",r=t.indexOf("#");return -1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(u=`#${h(t.fragmentIdentifier,r)}`),`${i}${a}${u}`}},80500:function(t){"use strict";t.exports=(t,e)=>{if(!("string"==typeof t&&"string"==typeof e))throw TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];let r=t.indexOf(e);return -1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},70610:function(t){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},70655:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return o},__asyncDelegator:function(){return M},__asyncGenerator:function(){return w},__asyncValues:function(){return _},__await:function(){return y},__awaiter:function(){return l},__classPrivateFieldGet:function(){return O},__classPrivateFieldSet:function(){return E},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return n},__generator:function(){return c},__importDefault:function(){return S},__importStar:function(){return k},__makeTemplateObject:function(){return b},__metadata:function(){return u},__param:function(){return h},__read:function(){return m},__rest:function(){return s},__spread:function(){return g},__spreadArrays:function(){return v},__values:function(){return f}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function s(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)0>e.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r}function a(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function h(t,e){return function(r,i){e(r,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,i){return new(r||(r=Promise))(function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(s,a)}h((i=i.apply(t,e||[])).next())})}function c(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function v(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){n[t]&&(i[t]=function(e){return new Promise(function(r,i){o.push([t,e,r,i])>1||a(t,e)})})}function a(t,e){try{var r;(r=n[t](e)).value instanceof y?Promise.resolve(r.value.v).then(h,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}}function h(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function M(t){var e,r;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,n){e[i]=t[i]?function(e){return(r=!r)?{value:y(t[i](e)),done:"return"===i}:n?n(e):e}:n}}function _(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise(function(i,n){!function(t,e,r,i){Promise.resolve(i).then(function(e){t({value:e,done:r})},e)}(i,n,(e=t[r](e)).done,e.value)})}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return e.get(t)}function E(t,e,r){if(!e.has(t))throw TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},65054:function(t,e,r){var i=r(48764).Buffer,n=r(4501).strict;t.exports=function(t){if(!n(t))return i.from(t);var e=i.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(e=e.slice(t.byteOffset,t.byteOffset+t.byteLength)),e}}}]);